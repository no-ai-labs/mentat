# 🧠 Mentat - AI 기반 그래프형 에디터 프로젝트

## 🎯 프로젝트 개요

**Mentat**은 Vue + TipTap 기반의 그래프형 AI 에디터로, 사용자의 목표를 받아 지능적으로 실행하고 결과를 시각화하는 시스템입니다.

### 🌟 핵심 철학
- **단일 책임 원칙**: 각 노드가 명확한 역할을 가짐
- **피드백 루프**: 실행 → 반성 → 개선의 순환 구조
- **사용자 중심**: 직관적이고 친화적인 인터페이스

## 🏗️ 아키텍처 설계

### 📊 전체 시스템 구조
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   AgentNode     │───▶│   ActionNode    │───▶│   ResultNode    │
│   (전략 수립)    │    │   (실행)        │    │   (시각화)      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   PromptNode    │    │   DataNode      │    │   AI 분석       │
│   (단발성)       │    │   (데이터 관리)  │    │   (Gecko API)   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 🔄 데이터 플로우
1. **사용자 입력** → AgentNode (목표 설정)
2. **전략 수립** → ActionNode (실행 계획)
3. **AI 실행** → Gecko API (실제 처리)
4. **결과 분석** → ResultNode (시각화)
5. **피드백** → AgentNode (개선)

## 🎨 프론트엔드 설계 (Vue + TipTap)

### 📦 핵심 컴포넌트
- **Editor.vue**: 메인 에디터 컨테이너
- **AgentNode.vue**: Goal 기반 반복형 에이전트
- **ActionNode.vue**: 단일 액션 실행 노드
- **ResultNode.vue**: 다중 시각화 결과 노드
- **PromptNode.vue**: 단발성 프롬프트 처리
- **DataNode.vue**: 데이터 관리 노드

### 🔧 확장 시스템 (TipTap)
- **AgentBlock.js**: AgentNode 확장
- **ActionBlock.js**: ActionNode 확장
- **ResultBlock.js**: ResultNode 확장
- **PromptBlock.js**: PromptNode 확장
- **DataBlock.js**: DataNode 확장
- **SlashCommand.js**: 명령어 처리

### 🎯 템플릿 시스템
- **src/utils/templates.js**: 중앙 집중식 프롬프트 관리
- **실시간 렌더링**: 사용자 입력에 따른 즉시 프롬프트 생성
- **변수 치환**: {{변수명}} 형태의 동적 템플릿

## ⚙️ 백엔드 설계 (Spring Boot + Gecko)

### 🌐 API 엔드포인트
- **POST /api/action/execute**: ActionNode 실행
- **POST /api/result/analyze**: ResultNode 분석
- **GET /api/health**: 서버 상태 확인

### 🤖 AI 연동 (Google PaLM 2)
- **모델**: text-bison@001 (Gecko)
- **비용**: $0.0001 / 1K tokens
- **성능**: 3B 파라미터, 빠른 응답
- **캐싱**: Redis 기반 1시간 캐싱

### 📊 데이터 처리
- **JSON 파싱**: 구조화된 응답 처리
- **에러 핸들링**: 일관된 에러 응답
- **토큰 제한**: ActionNode 150, ResultNode 120

## 🎨 UI/UX 설계

### 🎨 디자인 시스템
- **색상 테마**: 노드별 구분 색상
  - AgentNode: 파란색 (#3b82f6)
  - ActionNode: 보라색 (#8b5cf6)
  - ResultNode: 청록색 (#06b6d4)
  - PromptNode: 주황색 (#f97316)
  - DataNode: 녹색 (#10b981)

### 📱 반응형 디자인
- **모바일**: 터치 친화적 인터페이스
- **데스크톱**: 마우스/키보드 최적화
- **태블릿**: 하이브리드 인터페이스

### 🎯 사용자 경험
- **직관적 명령어**: /agent, /action, /result 등
- **실시간 피드백**: 상태 표시 및 진행률
- **에러 처리**: 친화적인 에러 메시지

## 🚀 개발 로드맵

### Phase 1: 기본 시스템 (완료 ✅)
- [x] Vue + TipTap 기반 에디터
- [x] 기본 노드 시스템
- [x] 템플릿 기반 프롬프트 시스템
- [x] Gecko API 연동

### Phase 2: AI 기능 강화 (진행 중 🔄)
- [x] ActionNode 구현
- [x] ResultNode 확장
- [ ] 고급 시각화 라이브러리 연동
- [ ] 실시간 협업 기능

### Phase 3: 고급 기능 (계획 📋)
- [ ] 워크플로우 자동화
- [ ] 데이터 파이프라인
- [ ] 머신러닝 모델 연동
- [ ] 클라우드 배포

### Phase 4: 생태계 확장 (미래 🔮)
- [ ] 플러그인 시스템
- [ ] 커뮤니티 마켓플레이스
- [ ] 엔터프라이즈 기능
- [ ] API 게이트웨이

## 💰 비용 최적화

### 📊 예상 월 비용 (Gecko 사용)
- **ActionNode**: $0.24/월 (30,000회 실행)
- **ResultNode**: $0.09/월 (15,000회 실행)
- **총 비용**: $0.33/월

### 🔧 최적화 전략
- **토큰 제한**: 최소한의 토큰 사용
- **캐싱**: 동일 요청 재사용
- **배치 처리**: 여러 요청 통합
- **모델 선택**: 용도별 최적 모델

## 🎯 성능 목표

### ⚡ 응답 시간
- **프론트엔드**: < 100ms (사용자 인터랙션)
- **백엔드 API**: < 2초 (Gecko 호출)
- **캐시 히트**: < 50ms

### 📈 확장성
- **동시 사용자**: 1,000명 지원
- **일일 요청**: 100,000회 처리
- **데이터 처리**: 1GB/일

## 🔒 보안 고려사항

### 🛡️ 데이터 보안
- **API 키 관리**: 환경변수 사용
- **사용자 데이터**: 암호화 저장
- **CORS 설정**: 허용된 도메인만

### 🔐 인증 시스템
- **개발 모드**: 인증 비활성화
- **프로덕션**: JWT 토큰 기반
- **권한 관리**: 역할 기반 접근 제어

## 🧪 테스트 전략

### 🔍 단위 테스트
- **프론트엔드**: Vue Test Utils
- **백엔드**: JUnit + Mockito
- **API**: Postman + Newman

### 🎯 통합 테스트
- **E2E 테스트**: Cypress
- **API 테스트**: REST Assured
- **성능 테스트**: JMeter

## 📚 기술 스택

### 🎨 프론트엔드
- **Vue 3**: 반응형 프레임워크
- **TipTap**: 리치 텍스트 에디터
- **Tailwind CSS**: 유틸리티 CSS
- **Vite**: 빌드 도구

### ⚙️ 백엔드
- **Spring Boot**: Java 프레임워크
- **Google PaLM 2**: AI 모델
- **Redis**: 캐싱 시스템
- **PostgreSQL**: 데이터베이스

### 🛠️ 개발 도구
- **Git**: 버전 관리
- **Docker**: 컨테이너화
- **GitHub Actions**: CI/CD
- **Vercel/Heroku**: 배포 플랫폼

---

**마지막 업데이트**: 2024년 7월 8일  
**버전**: 1.0.0  
**상태**: 개발 중 